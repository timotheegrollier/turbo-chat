{% extends 'base.html.twig' %}

{% block title %}Room #
	{{room.id}}
{% endblock %}

{% block body %}

	<div class="d-flex justify-content-around align-items-center bg-secondary">
		<turbo-frame class="container-fluid d-flex justify-content-between align-items-center" id="room" target="_top">


			<h1 class="text-white">
				{{room.name}}
			</h1>


			<a class="btn btn-dark" data-turbo-frame="room" href="{{path('app_rooms_edit',{'id':room.id})}}">Edit</a>
		</turbo-frame>
	</div>
{# <p>{{ 'now'|date('d/m/Y H:i:s','Europe/Paris') }}</p> #}<div class="container" id="tchat">

	{% for message in room.messages %}
		<div>
			<div class="badge bg-info">
				{{message.createdAt|date('d M H:i','Europe/Paris')}}
			</div>
			:
			{{message.content}}</div>
	{% endfor %}
</div>
<turbo-frame id="new_message" src="{{path('app_messages_new',{'room':room.id})}}" target="_top" autoscroll data-turbo-cache="false">
	<div class="container col-4 text-center">
		Loading...
	</div>
</turbo-frame>
<div class="container-fluid col-6 d-flex justify-content-center mt-5">
	<p class="col-6 d-flex justify-content-center">
		<a class="btn btn-dark" href="{{path('app_rooms_index')}}">Back</a>
	</p>
</div>
<a href="{{path('app_messages_list',{'room':room.id})}}" class="d-none listLink" >list</a>
{% endblock %}
